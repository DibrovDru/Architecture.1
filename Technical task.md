# Срок сдачи веб-приложения. 01 мая 2023г

## Глоссарий:

Спринт- это короткий временной интервал, в течение которого scrum-команда выполняет заданный объем работы. 

Драфт отчёта- черновик, начальный проект отчёта за спринт, который в дальнейшем будет корректироваться.

Тимлид - автор проекта.

Open - задача создана, но к её выполнению ещё не приступили.

Active - задача находится в процессе выполнения.

Resolved - задача выполнена.

 
## Цели и задачи создания веб-приложения 

1. Реализовать возможность регистрации пользователей и их авторизацию по E-mail и паролю.

2. Реализовать возможность создания, редактирования и просмотра задач за день и за спринт(система управления задачами). 
	
3. Реализовать возможность создания, редактирования, просмотра и сохранения отчетов за день и за спринт.

Веб-приложение будет полезно тем,кто ведет учет данных в таблицах или на листе бумаги. Присутствует возможность создания,назначения и ведения задач по каждому сотруднику,а так же возможность создания отчетов за день и за спринт.

Веб-приложение гарантирует сохранность данных и простой способ работы с большим объемом данных, а главное система прозрачна и маштабируема.

### Текущее положение:

На данный момент команде приходится работать с задачами и отчетами посредством файлов EXCEL. 

Из-за отсутствия регистрации и авторизации пользователей нет возможности отстлеживать автора внесения изменений и просмотра полной истории по задачам и отчетам.

Большая вероятность потери и утечке данных при обмене информацией,так как файлы могут случайно попасть к сторонним пользователям.

Сложный поиск по задачам сотрудников и таблицам с отчетами.

## Целевая аудитория:

Офисная команда состоящая из тимлида и сотрудников.

Веб-приложение рассчитано на команду не более 10 человек.

Иерархия сотрудников представляется следующим образом: 

• Тимлид - сотрудник;

• Руководитель - корень дерева, которому подчиняются другие сотрудники, которые могут иметь или не иметь подчинённых.

Схема взаимодействия сотрудников:

![Схема](https://github.com/DibrovDru/Architecture.1/raw/dev_muratov/images/Employee.jpg)
 
## Ролевая модель


## Функциональные требования к веб-приложению:

### Главная страница

На главной странице должна отображаться следующая информация:

В верхней части должна быть отображена информация об наименовании проекта, с возможность быстрого создания кнопкой "Создать" следующих элементов:

• Проект

• Сотрудник

• Задача

• ??Отчет

Далее страницу необходимо разделить на 2 части. 

С правой стороны должна отображается выбранный раздел,первоначально Задачи.

С левой стороны должны отображаться поля Задачи, Сотрудники, Отчеты, с возможностью перехода в соответствующий раздел. 

### Страница Авторизации

На странице должна отображаться информация об авторизации с указанием следующих полей:

•	E-mail;

•	Пароль.

Необходимо отобразить кнопку "Готово" для успешного входа в систему.

Отобразить кнопку "Регистрация", для прохождения регистрации, если пользователь новый.

### Страница Регистрация

На странице должна отображаться информация о регистрации с указанием следующих полей:

•	Имя пользователя;

•	E-mail;

•	Пароль;

•	Повтор пароля.

А так же информация о согласии на обработку персональных данных.

Необходимо отобразить кнопку "Готово" для успешного прохождения регистрации.

Отобразить кнопку "Авторизация", для прохождения авторизации, в случае успешной регистрации.

### Раздел Проекты (Project)

Создание проекта разбито на несколько этапов:

1.Этап:

• Имя проекта;

• Длительность проекта.

• Описание проекта.

Отобразить кнопку при выборе длительности проекта "Добавить спринт".

Кнопки "Назад" и "Продолжить".

2.Этап:

•	Сотрудники проекта.

Через кнопку "Добавить" или "+". Необходимо реализовать выпадающий список с отображением E-mail адресов. 

Если пользователя нет в системе отобразить кнопку "Отправить приглашение в проект", где будет находится ссылка на регистрацию в веб-приложении.

Кнопки "Назад" и "Продолжить".

3.Этап:

•	Иерархия сотрудников;

Отобразить кнопку при создании иерархии сотрудника "Добавить связь", в ней необходимо реализовать выпадающий список с отображением связи (руководитель,сотрудник)

Кнопки "Назад" и "Готово".

В реализованной системе должна быть возможность:

•       Выбора длительности спринта, при указании длительности проекта;

•       Добавления спринтов в течении проекта; 

•	Выбора нескольких сотрудников, при указании сотрудников проекта; 

•       Создать иерархию сотрудников;

•       Отправлять приглашение в проект;

•       ??Изменения статуса(связи) при необходимости.

### Раздел Сотрудники (Employee):

На странице должна отображаться информация о создании сотрудника с указанием следующих полей:

•       Проект;

•	Должность;

•	Имя;

•       Фамилия;

•	E-mail;

•       Просмотр ирерархии сотрудников.

В реализованной системе должна быть возможность:

•       Отображения принадлежности к проекту для каждого сотрудника;

•	Отображения должности каждого сотрудника;

•	У сотрудников должна быть иерархия и она должна быть доступна к просмотру. 
 
### Раздел Задача (Task)

На странице должна отображаться информация о создании задачи с указанием следующих полей:

•       Автор; 

•       Проект;

•	Период выполнения задачи;

•	Тема;

•	Описание;

•       Статус;

•       Исполнитель;

•       Комментарий.

Необходимо реализовать:

•       Отображения принадлежности к проекту для каждой задачи;

•	Возможность создания задачи;

•       Возможность выбора периода исполнения задачи (за день,за спринт)

•	Возможность указания статуса задачи;

•	Сохранения статуса задачи;

•	Изменения статуса задачи;

•       Задача может назначаться на автора задачи, а так же на нижестоящего в иерархии сотрудника;

•	Возможность просмотра назначенного сотрудника;

•	Изменения назначенного сотрудника;

•	Возможность просмотра назначенного сотрудника на каждой задаче;

•	Возможность просмотра текущего статуса задачи ;

•	Возможность добавления комментария;

•	Возможность сохранения комментария;

•	Возможность фиксации и просмотра времени внесения следующих изменений  (статус/назначенный сотрудник/комментарий);

•       Поиск задач по id;

•       Поиск задач по времени создания/последнего изменения;

•       Поиск задач, закрепленных за определенным сотрудников;

•       Поиск задач, в которые пользователь вносил изменения;

•      Получение списка задач, которые назначены подчиненным определенного сотрудника.

### Раздел Отчет (Report):

На странице должна отображаться информация об  отчете за текущий день и за спринт.

Все шаблоны отчетов генерируются автоматичеки на весь срок проекта.

Шаблоны ежедневных отчетов доступны у сотрудника в начале каждого дня с типом draft(в 06.00), а так же автоматически переходят в статус saved в конце дня (в 00.00).

Шаблоны отчетов за спринт доступны у сотрудника в начале каждого спринта с типом draft(в 06.00), а так же автоматически переходят в статус saved в конце спринта (в 00.00).

В шаблоне отчета должны быть отображены и доступны для изменения следующие поля:

• Сроки выполнения отчета (день/спринт);

• Тип отчета (draft/saved);

• Исполнитель;

• Список задач.

После перехода отчета в статус saved возможность для редактирования отчета закрывается.

Если у сотрудника не было задач указать надписть "Задачи отсутсвуют".

### За день 

Необходимо реализовать:

•	Возможность редактирования отчета в течение текущего дня; 

•       Возможность добавления в отчет своих задач за день.;

•	Возможность сотруднику просмотра выполненных задач за день.

### За спринт 

Необходимо реализовать:

•	Возможность редактирования отчета за весь спринт;

•	Возможность сохранения отчёта за весь спринт;

•	Возможность указания типа отчета;

•	Возможность сотруднику просмотра всех своих задач за спринт;

•	Возможность сотруднику просмотра списка отчётов своих подчиненных за спринт;

•	Для тимлида реализовать возможность у отчетов со статусом «завершен» агрегировать общий(командный отчет) за спринт.

## Нефункциональные требования к веб-приложению:

• Возможность работы в системе нескольким пользователям одновременно; 

• Веб-приложение рассчитано на команду не более 10 человек.

• Время ожидания при открытии страницы должно составлять не более 5 сек;

• На странице Регистрации расположена информация об обработке персональных данных, что соответствует 152-ФЗ «О персональных данных»;

• Клиент должен взаимодействовать с сервером посредством протокола SSL;

• Веб-приложение должно функционировать в браузере устройства при наличии мобильной или сети WiFi.

## Архитектура Веб-приложения

Модель компонентов веб-приложения: один веб-сервер, одна база данных. 

Веб-приложение является монолитным,но реализуется возможность создания несколько проектов одновременно для чистоты кода. 

Тип архитектуры веб-приложения: Архитектура одностраничных приложений.

Благодаря SPA (одностраничное приложение) достигается плавная работа приложения, интуитивно понятное и интерактивное взаимодействие с пользователем.
Вместо загрузки новой страницы SPA загружают одну веб-страницу и перезагружают запрошенные данные на той же странице с динамически обновляемым содержимым. Остальная часть веб-страницы остается нетронутой. SPA разрабатываются на стороне клиента с использованием фреймворков JavaScript, так как вся логика всегда переносится на фронтенд.

![Схема](https://github.com/DibrovDru/Architecture.1/raw/dev_muratov/images/single-page-application.png)

Веб-приложение построена на 2-х звенной цепочке взаимодействия:

![Схема](https://github.com/DibrovDru/Architecture.1/raw/dev_muratov/images/klient_server.PNG)

Основные критерии построения надежной архитектуры веб-приложения:

• Эффективность;

• Гибкость;

• Легкость в тестировании;

• Последовательность и успешность в решении задач;

• Хорошо структурированный и понятный код;

• Масштабируемость в процессе разработки;

• Быстрое время отклика;

• Простота;

• Опора на опробованные стандарты безопасности.

Основные достоинства выбранной архитектуры заключаются в следующем:

• *Простота развертывания.* Монолиты очень быстро и относительно просто развертывать, благодаря тому что у монолита обычно единая точка входа;

• *Разработка.* Разработка монолита обычно происходит быстро, потому что все компоненты и модули находятся в одной кодовой базе и всегда под рукой;

• *Отладка.* Отладка монолита очень упрощена за счет того, что все рядом, и есть возможность отследить все звенья выполнения кода.

## Веб-приложение постоено на базе следующих технологий:

• Серверная часть - бэкэнд, управляет бизнес-логикой и отвечает на HTTP-запросы. 

Серверный код написан на Java (spring). 

• Сторона клиента - интерфейс, именно здесь происходит взаимодействие с пользователем.

Код написан на JavaScript (react) и хранится в браузере.

• Сервер базы данных, который отправляет запрошенные данные на сторону сервера.

Используется PostgreSQL.

## Описание БД

![Схема](https://github.com/DibrovDru/Architecture.1/raw/dev_muratov/images/Base(change).PNG)

### Имеющиеся сущности:

#### Сущности БД

1. Проекты (Project)

• id - идентификатор 

• author - автор

• sprint_id - временной промежуток

• text - описание

• participant - участник проекта

2.	Сотрудник (Employee)

• id - идентификатор 

• project_id - проект

• relation_id - связь(уровень иерархии) в проекте

• name - имя 

• surname - фамилия 

• e-mail - адрес электронной почты 

• password - пароль 

3. Связи (Relation)

• id - идентификатор 

• master - старший

• slave - младший

4. Временной промежуток (Sprint)

• id - идентификатор

• start - время начала

• finish - время окончания

 5. Задача (Task)

•  id - идентификатор 

• project_id - проект

• sprint_id - временной промежуток

• head - наименование 

• text - описание

• status_id - статус

• executor - назначенный сотрудник

• comments_id - комментарий

6. Комментарии (Comments)

• id - идентификатор 

• task_id - идентификатор задачи к которому привязан комментарий

• text - описание

• time - время создания

• author - автор комментария

7. Отчет (Report)
	
• id - идентификатор 

• sprint_id - временной промежуток

• type - тип 

• author - автор документа

8. Тип (Type)

• id - идентификатор

• draft - черновик

• saved - сохраненный

9. Статус (Status)

• id - идентификатор 

• open - открытый

• active - в работе

• resolved - завершенный

## Требования к управлению изменениями

Все изменения кода веб-приложения должны внедряться с использованием системы контроля версий – git после предварительного тестирования на тестовом сервере.

## Прототипирование

Рабочий прототип, который отражает основные функции и возможности веб-приложения расположен по адресу: 

https://www.figma.com/file/d9q8Aq04k7I1F0bYrjSZba/deta?node-id=0%3A1&t=yvdLZ74Ivj2hrkme-1

## Создание дизайна

На данном этапе необходимо выполнить:

Создание полноцветного дизайна для требуемых разрешений экранов в соответствии с разработанной структурой и логикой, а также стилевыми пожеланиями Заказчика.
Артефакты:

UX/UI дизайн проекта (макеты основных видов приложения для заданных разрешений).

##  Верстка и разработка

На данном этапе необходимо выполнить:

Разработка веб-интерфейса приложения с заданным функционалом согласно макету;

Разработка серверной части приложения и базы данных;

Интеграция со смежными системами.

Артефакты:

Полнофункциональная версия приложения.

## Тестирование

На данном этапе необходимо выполнить:

Тестирование приложения, исправление выявленных ошибок, оптимизация.

Выполняются следующие виды тестирования:

Unit тестирование;

Интеграционное тестирование;

UAT тестирование;

Нагрузочное тестирование;

Тестирование безопасности.

Артефакты:

Работоспособный сайт(веб-приложение), прошедший испытания и готовый к эксплуатации.

##  Документирование

На данном этапе необходимо выполнить:

Разработку комплекта документации, согласно требованиям данного технического задания.

Артефакты:

Программная и эксплуатационная документация.

